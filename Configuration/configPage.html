<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Jellyfin Federation Plugin</title>
</head>
<body>
    <div id="FederationConfigPage" data-role="page" class="page type-interior pluginConfigurationPage">
        <div data-role="content">
            <div class="content-primary">
                <form id="FederationConfigForm">
                    <div class="sectionTitleContainer flex align-items-center">
                        <h2 class="sectionTitle">Federation Configuration</h2>
                    </div>
                    <div class="verticalSection">
                        <div class="sectionTitleContainer flex align-items-center">
                            <h3 class="sectionTitle">Federated Servers</h3>
                        </div>
                        <div id="serverList" class="checkboxList paperList">
                            <!-- Server entries will be added here -->
                        </div>
                        <br>
                        <button is="emby-button" type="button" id="addServer" class="raised button-submit emby-button">
                            <span>Add Server</span>
                        </button>

                        <div id="addServerDialog" style="display:none;">
                            <h3>Add New Server</h3>
                            <div class="inputContainer">
                                <input is="emby-input" type="text" id="newServerUrl" label="Server URL" placeholder="http://192.168.1.100:8096" />
                            </div>
                            <div class="inputContainer">
                                <input is="emby-input" type="text" id="newServerApiKey" label="API Key" placeholder="Enter API Key" />
                            </div>
                            <div class="inputContainer">
                                <input is="emby-input" type="number" id="newServerPort" label="Port" value="8096" placeholder="8096" />
                            </div>
                            <button is="emby-button" type="button" id="addNewServerBtn" class="raised button-submit emby-button">
                                <span>Add</span>
                            </button>
                            <button is="emby-button" type="button" id="cancelAddServerBtn" class="raised button-cancel emby-button">
                                <span>Cancel</span>
                            </button>
                        </div>
                    </div>
                    <br>
                    <div>
                        <button is="emby-button" type="submit" class="raised button-submit emby-button">
                            <span>Save</span>
                        </button>
                        <button is="emby-button" type="button" id="resetConfig" class="raised button-cancel emby-button">
                            <span>Reset</span>
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <script type="text/javascript">
        require(['./config'], function (configModule) {
            configModule.default(document);
        });
    </script>
</body>
</html>
